setwd("~/programando/erre/aprendendoerre/Atividade")
install.packages("tm")
install.packages("wordcloud")
install.packages("readr")
library(tm)
library(wordcloud)
library(readr)
library(rtweet)
auth_setup_default()
#consultando o twitter
tweets <- search_tweets("Brasil", n=500, lang="pt")
#colapsando todos os twittes em um vetor de uma posição
tweets_t <- paste(tweets$text, collapse = " ")
#criando corpus
tweets_S <- VectorSource(tweets_t)
corpus <- Corpus(tweets_S)
#limpeza
corpus <- tm_map(corpus, tolower)
corpus <- tm_map(corpus, removePunctuation)
corpus <- tm_map(corpus, stripWhitespace)
corpus <- tm_map(corpus, removeWords, stopwords('portuguese'))
inspect(corpus)
#remover URLs
removeURL <- function(x) gsub("http[^[:space:]]*","", x)
corpus <- tm_map(corpus, content_transformer(removeURL))
#remover qualquer coisa que não seja letras em português e espaço
removeNumPunct <- function(x) gsub("[^[:alpha:][:space:]]","", x)
corpus <- tm_map(corpus, content_transformer(removeNumPunct))
#criar matriz
dtm <- TermDocumentMatrix(corpus)
dtm <- as.matrix(dtm)
fre <- sort(rowSums(dtm), decreasing = TRUE)
write.csv(fre, "brasilTweets.csv", row.names = FALSE)
write.csv(fre, "brasilTweets.csv", row.names = TRUE)
library(syuzhet)
library(dplyr)
View(tweets_S)
write_delim(fre, "brasilTweetsTexto.txt", row.names = TRUE)
write_delim(fre, "brasilTweetsTexto.txt")
fre <- sort(rowSums(dtm), decreasing = TRUE)
write_delim(fre, "brasilTweetsTexto.txt")
write_delim(tweets_t, "brasilTweetsTexto.txt")
#write_delim(tweets_t, "brasilTweetsTexto.txt")
writeLines(tweets_t, "brasilTweetsTexto.txt")
tweets <- read_csv("brasilTweets.csv")
tweets_texto <- read.delim("brasilTweetsTexto.txt")
#tweets <- search_tweets("Brasil", n=500, lang="pt") a pesquisa foi colocada em brasilTweets.csv
tweets <- read_csv("brasilTweets.csv")
tweets_texto <- read.delim("brasilTweetsTexto.txt")
#pontuando os tweets
s<-get_nrc_sentiment(tweets_texto)
tweets <- search_tweets("Abin", n=500, lang="pt")
View(tweets)
#consultando o twitter
tweets <- search_tweets("Brasil", n=500, lang="pt")
#salvando dataFrame
save(tweets,file="datTweetsBrasil.Rda")
#consultando o twitter
tweets <- search_tweets("Brasil", n=500, lang="pt")
#salvando dataFrame
save(tweets,file="datTweetsBrasil.Rda")
#colapsando todos os twittes em um vetor de uma posição
tweets_t <- paste(tweets$text, collapse = " ")
#criando corpus
tweets_S <- VectorSource(tweets_t)
corpus <- Corpus(tweets_S)
#limpeza
corpus <- tm_map(corpus, tolower)
corpus <- tm_map(corpus, removePunctuation)
corpus <- tm_map(corpus, stripWhitespace)
corpus <- tm_map(corpus, removeWords, stopwords('portuguese'))
inspect(corpus)
#remover URLs
removeURL <- function(x) gsub("http[^[:space:]]*","", x)
corpus <- tm_map(corpus, content_transformer(removeURL))
#remover qualquer coisa que não seja letras em português e espaço
removeNumPunct <- function(x) gsub("[^[:alpha:][:space:]]","", x)
corpus <- tm_map(corpus, content_transformer(removeNumPunct))
#criar matriz
dtm <- TermDocumentMatrix(corpus)
dtm <- as.matrix(dtm)
fre <- sort(rowSums(dtm), decreasing = TRUE)
write.csv(fre, "brasilTweets.csv", row.names = TRUE)
#write_delim(tweets_t, "brasilTweetsTexto.txt")
writeLines(tweets_t, "brasilTweetsTexto.txt")
dataFrame <- tweets %>%
as_tibble()
View(dataFrame)
tweetsDF <- load("datTweetsBrasil.Rda")
head(tweetsDF)
load("~/programando/erre/aprendendoerre/Atividade/datTweetsBrasil.Rda")
load("~/programando/erre/aprendendoerre/Atividade/datTweetsBrasil.Rda")
tweetsDF <- readRDS(file="datTweetsBrasil.Rda")
#salvando dataFrame
#save(tweets,file="datTweetsBrasil.Rda")
saveRDS(foo, file="datTweetsBrasil.Rda")
#salvando dataFrame
#save(tweets,file="datTweetsBrasil.Rda")
saveRDS(tweets, file="datTweetsBrasil.Rda")
tweetsDF <- readRDS(file="datTweetsBrasil.Rda")
head(tweetsDF)
#pontuando os tweets
s<-get_nrc_sentiment(tweetsDF)
tweetsDF <- tweetsDF$text
s<-get_nrc_sentiment(tweetsDF)
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos em relação a Brasil")
wordcloud(tweets_texto, min.freq = 1, max.words = 60,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(8,"Dark2"))
wordcloud(tweets, min.freq = 1, max.words = 60,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(8,"Dark2"))
tweetsDF <- load("datTweetsBrasil.Rda")
tweetsDF <- readRDS(file="datTweetsBrasil.Rda")
tweets_texto <-paste(tweetsDF$text, collapse = " ")
wordcloud(tweets_texto, min.freq = 1, max.words = 60,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(8,"Dark2"))
wordcloud(tweets_texto, min.freq = 1, max.words = 60,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(1,"Dark2"))
wordcloud(tweets_texto, min.freq = 1, max.words = 60,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(100,"Dark2"))
wordcloud(tweets_texto, min.freq = 1, max.words = 60,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(1,1,"Dark2"))
wordcloud(tweets_texto, min.freq = 1, max.words = 100,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(11,"Dark2"))
wordcloud(width=1600, height=800,
tweets_texto, min.freq = 1, max.words = 100,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(11,"Dark2"))
wordcloud(width=1600, height=800,
tweets_texto, min.freq = 1, max.words = 100,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal("Dark2"))
wordcloud(width=1600, height=800,
tweets_texto, min.freq = 1, max.words = 100,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(1,"Dark2"))
wordcloud(width=1600, height=800,
tweets_texto, min.freq = 1, max.words = 100,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(50,"Dark2"))
wordcloud(width=800, height=800,
tweets_texto, min.freq = 1, max.words = 100,
random.order = FALSE, rot.per = 0.35,
colors=brewer.pal(50,"Dark2"))
library(DT)
install.packages("DT")
library(DT)
?datatable
datatable(iris)
datatable(mtcars)
tweets <- search_tweets("URSS", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos em relação a palavra URSS")
tweets <- search_tweets("soberana", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra SOBERANA em 500 tweets")
tweets <- search_tweets("mimimidias", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mimimidias em 500 tweets")
tweets <- search_tweets("Mundo Freak", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mundo Freak em 500 tweets")
tweets <- search_tweets("@Mundo_Freak", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mundo Freak em 500 tweets")
tweets <- search_tweets("@Mundo_Freak", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mundo Freak em 500 tweets")
tweets <- search_tweets("@mimimidias", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mundo Freak em 500 tweets")
tweets <- search_tweets("#mundofreak", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mundo Freak em 500 tweets")
tweets <- search_tweets("#mundofreak", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mundo Freak em 500 tweets")
tweets <- search_tweets("#mundofreak", n=500, lang="pt")
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mundo Freak em 500 tweets")
View(s)
tweets <- search_tweets("mundofreak", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra Mundo Freak em 500 tweets")
tweets <- search_tweets("matemática", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra matematica em 500 tweets")
tweets <- search_tweets("SORVETE", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra SORVETE em 500 tweets")
tweets <- search_tweets("grêmio", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra gremio em 500 tweets")
tweets <- search_tweets("grêmio", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra gremio em 500 tweets")
tweets <- search_tweets("grêmio", n=500, lang="pt")
typeof(tweets)
tweets <- search_tweets("grêmio", n=500, lang="pt")
tweets <- search_tweets("gatos", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra gatos em 500 tweets")
tweets <- search_tweets("jequiti", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra jequiti em 500 tweets")
tweets <- search_tweets("subway", n=500, lang="pt")
typeof(tweets)
#convertendo para formato DF
#tweets <- twListToDF(tweets)
dataFrame <- tweets %>%
as_tibble()
tweets <- dataFrame$text
#pontuando os tweets
s<-get_nrc_sentiment(tweets)
#plotando grafico com sentimentos
barplot(colSums(s), las=2, col=rainbow(10),
ylab = "Contagem", main = "Sentimentos com a palavra subway em 500 tweets")
